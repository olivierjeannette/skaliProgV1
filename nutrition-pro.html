<!doctype html>
<html lang="fr">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Nutrition Pro - Skaliprog</title>

        <!-- Tailwind CSS -->
        <script src="https://cdn.tailwindcss.com"></script>

        <!-- Font Awesome -->
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        />

        <!-- jsPDF -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

        <!-- Supabase -->
        <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

        <style>
            body {
                font-family:
                    -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial',
                    sans-serif;
            }

            /* Animations */
            @keyframes shimmer {
                0% {
                    transform: translateX(-100%);
                }
                100% {
                    transform: translateX(100%);
                }
            }

            .animate-shimmer {
                animation: shimmer 2s infinite;
            }

            /* Custom scrollbar */
            ::-webkit-scrollbar {
                width: 10px;
            }

            ::-webkit-scrollbar-track {
                background: #1f2937;
            }

            ::-webkit-scrollbar-thumb {
                background: #10b981;
                border-radius: 5px;
            }

            ::-webkit-scrollbar-thumb:hover {
                background: #059669;
            }

            /* Smooth transitions */
            * {
                transition: all 0.2s ease;
            }
        </style>
    </head>
    <body class="bg-gray-900">
        <!-- Container principal -->
        <div id="mainApp"></div>

        <!-- Scripts core -->
        <script src="js/core/config.js"></script>
        <script src="js/core/utils.js"></script>
        <script src="js/core/env.js"></script>

        <!-- Scripts services -->
        <script src="js/services/supabase-manager.js"></script>

        <!-- Scripts nutrition consolid√©s -->
        <script src="js/modules/nutrition/nutrition-core.js"></script>
        <script src="js/modules/nutrition/nutrition-member-manager.js"></script>
        <script src="js/modules/nutrition/nutrition-planner.js"></script>
        <script src="js/modules/nutrition/nutrition-pdf-pro.js"></script>

        <!-- Initialisation -->
        <script>
            // Initialiser l'application au chargement
            document.addEventListener('DOMContentLoaded', async () => {
                console.log('üöÄ Initialisation Nutrition Pro');

                // V√©rifier que tous les modules sont charg√©s
                if (typeof NutritionCore === 'undefined') {
                    console.error('‚ùå NutritionCore non charg√©');
                    return;
                }

                if (typeof NutritionMemberManager === 'undefined') {
                    console.error('‚ùå NutritionMemberManager non charg√©');
                    return;
                }

                if (typeof NutritionPlanner === 'undefined') {
                    console.error('‚ùå NutritionPlanner non charg√©');
                    return;
                }

                if (typeof NutritionPDFPro === 'undefined') {
                    console.error('‚ùå NutritionPDFPro non charg√©');
                    return;
                }

                // V√©rifier Supabase
                if (typeof SupabaseManager === 'undefined') {
                    console.warn('‚ö†Ô∏è SupabaseManager non disponible - Mode d√©mo');
                }

                // D√©marrer l'application
                console.log('‚úÖ Tous les modules charg√©s');
                await NutritionMemberManager.init();
            });
        </script>
    </body>
</html>
